<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>Quadrotor Core v1.0</title>
<style>
  body {
    background: #050510;
    color: #e0e0ff;
    font-family: monospace;
    margin: 0;
    padding: 20px;
  }
  h1 { color: #ff6688; }
  input {
    font-size: 18px;
    width: 140px;
    text-align: center;
  }
  button {
    font-size: 16px;
    margin-left: 10px;
  }
  #panel {
    display: flex;
    gap: 30px;
    margin-top: 20px;
  }
  #visual {
    width: 300px;
    height: 300px;
    border-radius: 50%;
    background: black;
    box-shadow: 0 0 40px #000;
    transition: all 1s ease;
  }
  pre {
    background: #0b0b20;
    padding: 15px;
    max-width: 500px;
    overflow-x: auto;
  }
</style>
</head>

<body>

<h1>üõ† Quadrotor Core v1.0</h1>

K-Address (6 bits):  
<input id="kbits" value="000000" maxlength="6">
<button onclick="runCore()">Activate</button>

<div id="panel">
  <div id="visual"></div>
  <pre id="output"></pre>
</div>

<script>
const dnaMap = ["A","U","G","C"];
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
let osc;

function bitsToInt(bits) {
  return parseInt(bits, 2);
}

function computeDNA(bits) {
  const X = bits.slice(4,6);
  const Y = bits.slice(2,4);
  const Z = bits.slice(0,2);
  return dnaMap[parseInt(X,2)] +
         dnaMap[parseInt(Y,2)] +
         dnaMap[parseInt(Z,2)];
}

function computeH(bits) {
  const h11 = 1 + (bits[0]*4 + bits[1]*2 + bits[2]*1);
  const h21 = 1 + (bits[3]*4 + bits[4]*2 + bits[5]*1);
  return {h11, h21};
}

function playSound(freq) {
  if (osc) osc.stop();
  osc = audioCtx.createOscillator();
  osc.type = "sine";
  osc.frequency.value = freq;
  osc.connect(audioCtx.destination);
  osc.start();
}

function runCore() {
  const bits = document.getElementById("kbits").value;
  if (!/^[01]{6}$/.test(bits)) {
    alert("–í–≤–µ–¥–∏ —Ä—ñ–≤–Ω–æ 6 –±—ñ—Ç—ñ–≤");
    return;
  }

  const arr = bits.split("").map(b=>parseInt(b));
  const dna = computeDNA(arr);
  const {h11, h21} = computeH(arr);

  const intensity = bitsToInt(bits) / 63;
  const r = Math.floor(255 * intensity);
  const b = Math.floor(255 * (1 - intensity));
  const color = `rgb(${r},0,${b})`;

  const visual = document.getElementById("visual");
  visual.style.background = color;
  visual.style.boxShadow = `0 0 ${20+80*intensity}px ${color}`;

  const freq = 80 + (h11 + h21) * 40;
  playSound(freq);

  document.getElementById("output").textContent =
`üì° DATA BLOCK
K-address: ${bits}
DNA Codon: ${dna}

üßÆ CYMTOR
h‚ÇÅ‚ÇÅ = 1 + (${arr.slice(0,3).join("")})‚ÇÇ = ${h11}
h‚ÇÇ‚ÇÅ = 1 + (${arr.slice(3,6).join("")})‚ÇÇ = ${h21}

üé® COLOR
${color}

üéµ SOUND
Frequency ‚âà ${freq.toFixed(1)} Hz

üß† ARCH-NOTE
–°—Ç–∞–Ω ${bits} –æ–ø–∏—Å—É—î –Ω–∞–ø—Ä—É–∂–µ–Ω–Ω—è –º—ñ–∂
–∞–Ω—ñ–º—É—Å–æ–º (1) —Ç–∞ –∞–Ω—ñ–º–æ—é (0),
—Ñ–æ—Ä–º—É—é—á–∏ –≥–µ–æ–º–µ—Ç—Ä—ñ—é –ø–µ—Ä–µ—Ö–æ–¥—É.`;
}
</script>

</body>
</html>
